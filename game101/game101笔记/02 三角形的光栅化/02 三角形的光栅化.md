# Finishing up Viewing
##
![[Pasted image 20250714110645.png]]
定义一个近平面的宽高比：
那么我们的可视角度就是中间红线的角度，垂直的角度/2就是下方的三角形
![[Pasted image 20250714111745.png]]
MVP后所有的坐标都会转化到[-1,1]上，那么如何将其画到屏幕上
从屏幕上来说，屏幕就是一个光栅成像设备，就是确定哪些像素应该被绘制成为什么颜色
像素的坐标也被认定为(x,y)形式，比如蓝色像素就可以被认定为(2,1)，像素的中心应该是(x+0.5,y+0.5)，对于所有的像素都应该如此
![[Pasted image 20250714112557.png]]
那么那么中心应该就放在屏幕中心，那么就是屏幕空间，z轴不进行改变，转换方程就如下方的公式
![[Pasted image 20250715140334.png]]
![[Pasted image 20250714113019.png]]
通过公式变化，可以将其变为一个2D的图片了
### 为什么要选择三角形：
三角形是多边形的基础
内外部定义清楚，三角形中任何一个点对于其他点的位置关系是可以找出来的，可以轻松判断是否在三角形内
比如可以使用叉乘，这样就可以判断在边的左侧还是右侧，实际上在三角形中的点，每个点都应该在三角形的左侧，所以可以判断该点是否在这个三角形中
# Sampling a Function

采样实际上就是离散化的过程
```c++
for(int x=0;x<xmax;x+=0.2){
	output[x]=f(x);
}
```

可以判断三角形的中心是否在三角形内，这里可以优化，因为你可以根据三角形的三个坐标来进行判断
```c++
for(int x=0;x<xmax;x++){
	for(int y=0;y<ymax;y++){
		image[x][y]=inside(tri,x+0.5,y+0.5)
	}
}
```
如何判断是否在三角形内
我们使用叉乘来进行判断，因为在三角形中，我们可以知道在三角形内所有的点与边叉乘都应该为正，否则得到的值会有负值
# 反走样
 